//AttachSpec("spec");
Attach("polredabs.m");
QQ := Rationals();
L<nu> := QuadraticField(5);
R<t,x> := PolynomialRing(QQ,2);
// genus 1
//F := t^3*x^17 + 19/128*t^3*x^16 + 31/4096*t^3*x^15 + 75/524288*t^3*x^14 - 153/4294967296*t^3*x^12 - 409/1099511627776*t^3*x^11 + 251/140737488355328*t^3*x^10 + 1885/36028797018963968*t^3*x^9 + 755/4611686018427387904*t^3*x^8 - 779/295147905179352825856*t^3*x^7 - 791/37778931862957161709568*t^3*x^6 + 57/2417851639229258349412352*t^3*x^5 + 15/19342813113834066795298816*t^3*x^4 + 165/79228162514264337593543950336*t^3*x^3 - 79/10141204801825835211973625643008*t^3*x^2 - 259/5192296858534827628530496329220096*t^3*x - 49/664613997892457936451903530140172288*t^3 + 1/2415919104*t^2*x^12 - 1/8589934592*t^2*x^11 + 1069/633318697598976*t^2*x^10 + 32005/972777519512027136*t^2*x^9 - 14065/124515522497539473408*t^2*x^8 - 8471/7968993439842526298112*t^2*x^7 + 2489/113336795588871485128704*t^2*x^6 + 3827/43521329506126650289422336*t^2*x^5 - 18955/16712190530352633711138177024*t^2*x^4 - 4225/713053462628379038341895553024*t^2*x^3 + 4291/273812529649297550723287892361216*t^2*x^2 + 10333/70096007590220172985161700444471296*t^2*x + 2243/8972288971548182142100697656892325888*t^2 + 1/17509995351216488448*t*x^7 - 53/17930235239645684170752*t*x^6 - 151/4590140221349295147712512*t*x^5 + 3985/14100910759985034693772836864*t*x^4 + 11305/3609833154556168881605846237184*t*x^3 - 10243/1232156383421838978254795515625472*t*x^2 - 506803/3785184409871889341198731824001449984*t*x - 46931/161501201487867278557812557824061865984*t + 1/380724590519595936731866595328*x^2 + 53/1559447922768264956853725574463488*x + 23/199609334114337914477276873531326464
// reduced model from Ciaran
F := t^3*x^17 + 19*t^3*x^16 + 124*t^3*x^15 + 300*t^3*x^14 - 1224*t^3*x^12 - 1636*t^3*x^11 + 1004*t^3*x^10 + 3770*t^3*x^9 + 1510*t^3*x^8 - 3116*t^3*x^7 - 3164*t^3*x^6 + 456*t^3*x^5 + 1920*t^3*x^4 + 660*t^3*x^3 - 316*t^3*x^2 - 259*t^3*x - 49*t^3 + 384*t^2*x^12 - 13824*t^2*x^11 + 25656*t^2*x^10 + 64010*t^2*x^9 - 28130*t^2*x^8 - 33884*t^2*x^7 + 89604*t^2*x^6 + 45924*t^2*x^5 - 75820*t^2*x^4 - 50700*t^2*x^3 + 17164*t^2*x^2 + 20666*t^2*x + 4486*t^2 + 49152*t*x^7 - 325632*t*x^6 - 463872*t*x^5 + 510080*t*x^4 + 723520*t*x^3 - 245832*t*x^2 - 506803*t*x - 140793*t + 2097152*x^2 + 3473408*x + 1507328;
S<s> := PolynomialRing(L);
t0s := [a+b*nu : a,b in [-10..10]];
//t0s := [t0 : t0 in t0s | not t0 in [0,1]];
t0s := [t0 : t0 in t0s | not t0 in QQ];
t0s := SetToSequence(SequenceToSet(t0s));
special_t0s := [];
//t0 := nu + 4;
for t0 in t0s do
  printf "evaluating at %o\n", t0;
  Fev := Evaluate(F, [t0, s]);
  Grel := GaloisGroup(Fev);
  assert TransitiveGroupIdentification(Grel) eq 7;
  print "relative extension has Galois group 17T7";
  M := ext< L | Fev>;
  Mabs := AbsoluteField(M);
  Mabs_poly := DefiningPolynomial(Mabs);
  Mabs_poly := Polredbest(Mabs_poly);
  printf "polredbest-ed polynomial for extension over QQ:\n%o\n", Mabs_poly;
  G, seq, data := GaloisGroup(Mabs_poly);
  k := TransitiveGroupIdentification(G);
  if k ne 88 then
    print "\n\nsmaller than generic Galois group found!\n\n";
    print t0;
    print G;
    Append(~special_t0s, [* t0, k *]);
  end if;
end for;
